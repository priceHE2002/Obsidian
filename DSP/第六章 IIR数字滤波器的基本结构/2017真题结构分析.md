```python
import numpy as np
import matplotlib.pyplot as plt
from scipy import signal
import os
import warnings

# --- 1. 消除烦人的字体警告 (陈教授专用优化) ---
# 忽略 Glyph 9 (Tab) 缺失的警告
warnings.filterwarnings("ignore", category=UserWarning)

# --- 2. Mac 环境字体配置 ---
# 调整顺序：优先尝试 Heiti TC (黑体)，通常在 Mac 上效果更好
plt.rcParams['font.sans-serif'] = ['Heiti TC', 'Arial Unicode MS', 'sans-serif']
plt.rcParams['axes.unicode_minus'] = False

# --- 3. 信号处理逻辑：分析 2017年真题第五题结构 ---

# 系统函数 H(z) = (1 - 0.8z^-1) / (1 - 0.2z^-1)
# 分子系数 b (前馈)
b = np.array([1, -0.8])
# 分母系数 a (反馈，注意 a[0] 通常为 1，反馈项移至左边)
# 差分方程：y[n] - 0.2y[n-1] = x[n] - 0.8x[n-1]
a = np.array([1, -0.2])

# 计算零极点
zeros, poles, gain = signal.tf2zpk(b, a)

# 计算频率响应
w, h = signal.freqz(b, a, worN=512)
freq_norm = w / np.pi  # 归一化频率 (x pi rad/sample)
# magnitude_db = 20 * np.log10(np.abs(h)) # 也可以画dB图，这里先画幅度

# --- 4. 绘图 ---
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 5))

# 子图1：零极点图
t = np.linspace(0, 2*np.pi, 100)
ax1.plot(np.cos(t), np.sin(t), 'k--', label='单位圆') # 单位圆
ax1.scatter(np.real(zeros), np.imag(zeros), s=100, c='b', marker='o', label=f'零点 (z={zeros[0]:.1f})')
ax1.scatter(np.real(poles), np.imag(poles), s=100, c='r', marker='x', label=f'极点 (p={poles[0]:.1f})')
ax1.axvline(0, color='gray', lw=0.5)
ax1.axhline(0, color='gray', lw=0.5)
ax1.set_title('2017真题第五题：零极点分布')
ax1.set_xlabel('实部 (Real)')
ax1.set_ylabel('虚部 (Imag)')
ax1.axis('equal')
ax1.legend()
ax1.grid(True, linestyle=':', alpha=0.6)

# 子图2：幅频响应
ax2.plot(freq_norm, np.abs(h), 'b', linewidth=2)
ax2.set_title('幅频响应 |H(e^j\omega)|')
ax2.set_xlabel('归一化频率 (x pi rad/sample)')
ax2.set_ylabel('幅度')
ax2.grid(True)

# 标注高通特性 (已清理可能存在的Tab字符)
text_str = "高频增益大\n低频增益小\n-> 高通特性"
ax2.text(0.5, 0.5, text_str, 
         transform=ax2.transAxes, ha='center', 
         bbox=dict(facecolor='white', alpha=0.8, edgecolor='gray'))

plt.tight_layout()

# --- 5. 自动保存与显示 (固定配置) ---
filename = "2017真题结构分析_修复版.png" 
vault_path = "/Users/heyuhang/Documents/Obsidian Vault/DSP/第六章 IIR数字滤波器的基本结构"
full_path = os.path.join(vault_path, filename)

try:
    if os.path.exists(full_path):
        os.remove(full_path) # 覆盖旧图
    plt.savefig(full_path, dpi=300, bbox_inches='tight')
    plt.close() # 释放内存
    print(f"![[{filename}]]") # 触发 Obsidian 显示
except Exception as e:
    print(f"Error: {e}")
```