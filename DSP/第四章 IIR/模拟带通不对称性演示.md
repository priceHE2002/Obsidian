```python
import numpy as np
import matplotlib.pyplot as plt
import os
from scipy import signal

# --- 1. Mac 环境字体配置 (陈教授专用配置) ---
plt.rcParams['font.sans-serif'] = ['Arial Unicode MS', 'Heiti TC', 'sans-serif']
plt.rcParams['axes.unicode_minus'] = False

# --- 2. 信号处理逻辑：验证几何对称性 ---

# 设定带通滤波器指标
# 几何中心频率 w0 = 20 rad/s
# 下截止 w_p1 = 10 rad/s
# 必然推导出 上截止 w_p2 = 40 rad/s (因为 20^2 = 10 * 40)
w_p1 = 10
w_p2 = 40
w0 = np.sqrt(w_p1 * w_p2) # 20
bw = w_p2 - w_p1          # 30

# 设计一个 2 阶巴特沃斯带通 (模拟域)
# N=2 (原型阶数), Wn=[w_p1, w_p2]
b, a = signal.butter(2, [w_p1, w_p2], btype='bandpass', analog=True)

# 计算频率响应
w = np.logspace(0, 2, 1000) # 生成 10^0 到 10^2 的对数频率点
w_freqs, h_freqs = signal.freqs(b, a, worN=w)
magnitude = np.abs(h_freqs)

# --- 3. 绘图逻辑 ---
fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12, 5))

# 图1：线性坐标轴 (Linear Scale) - 展示不对称性
ax1.plot(w_freqs, magnitude, 'b-', linewidth=2)
ax1.set_title('线性频率坐标轴 (Linear Scale)', fontsize=14)
ax1.set_xlabel('角频率 (rad/s)', fontsize=12)
ax1.set_ylabel('幅度', fontsize=12)
ax1.axvline(x=w0, color='r', linestyle='--', label=f'中心频率 $\omega_0$={w0:.0f}')
ax1.axvline(x=w_p1, color='g', linestyle=':', label=f'下截止 $\omega_{{p1}}$={w_p1}')
ax1.axvline(x=w_p2, color='m', linestyle=':', label=f'上截止 $\omega_{{p2}}$={w_p2}')
# 标注左右宽度
ax1.text(15, 0.5, f'左宽: {w0-w_p1}', color='g', ha='center')
ax1.text(30, 0.5, f'右宽: {w_p2-w0}', color='m', ha='center')
ax1.grid(True, which='both', linestyle='--', alpha=0.6)
ax1.legend()

# 图2：对数坐标轴 (Log Scale) - 展示几何对称性
ax2.semilogx(w_freqs, magnitude, 'b-', linewidth=2)
ax2.set_title('对数频率坐标轴 (Log Scale)', fontsize=14)
ax2.set_xlabel('角频率 (rad/s)', fontsize=12)
ax2.axvline(x=w0, color='r', linestyle='--', label='中心频率')
ax2.axvline(x=w_p1, color='g', linestyle=':', label='下截止')
ax2.axvline(x=w_p2, color='m', linestyle=':', label='上截止')
ax2.grid(True, which='both', linestyle='--', alpha=0.6)
ax2.legend()

plt.suptitle('模拟带通滤波器幅频响应的不对称性本质', fontsize=16)
plt.tight_layout()

# --- 4. 自动保存与显示 (固定配置) ---
filename = "模拟带通不对称性演示.png" 
vault_path = "/Users/heyuhang/Documents/Obsidian Vault/DSP"
full_path = os.path.join(vault_path, filename)

try:
    if os.path.exists(full_path):
        os.remove(full_path) # 覆盖旧图
    plt.savefig(full_path, dpi=300, bbox_inches='tight')
    plt.close() # 释放内存
    print(f"![[{filename}]]") # 触发 Obsidian 显示
except Exception as e:
    print(f"Error: {e}")
```