```python
import numpy as np
import matplotlib.pyplot as plt
import sympy as sp
import os

# --- 1. Mac 环境字体配置 ---
plt.rcParams['font.sans-serif'] = ['Arial Unicode MS', 'Heiti TC', 'sans-serif']
plt.rcParams['axes.unicode_minus'] = False

# --- 2. 符号推导逻辑 ---
s, wc = sp.symbols('s omega_c')

# 定义 N=2 的两个极点 (使用 sympy 的符号表达)
# 角度为 135度和 225度
s1 = wc * (sp.cos(3*sp.pi/4) + sp.I * sp.sin(3*sp.pi/4))
s2 = wc * (sp.cos(5*sp.pi/4) + sp.I * sp.sin(5*sp.pi/4))

# 构建分母多项式 D(s) = (s - s1) * (s - s2)
denom = sp.expand((s - s1) * (s - s2))

# --- 3. 绘图逻辑 (极点分布) ---
theta = np.linspace(0, 2*np.pi, 100)
# 画单位圆 (假设 wc=1 用于绘图)
x_circ = np.cos(theta)
y_circ = np.sin(theta)

# 极点位置
angles = [3*np.pi/4, 5*np.pi/4]
x_poles = np.cos(angles)
y_poles = np.sin(angles)

plt.figure(figsize=(6, 6))
plt.plot(x_circ, y_circ, 'k--', alpha=0.5, label=r'半径 $\omega_c$')
plt.scatter(x_poles, y_poles, color='red', s=100, marker='x', label='极点 (Poles)')

# 标注
plt.text(x_poles[0], y_poles[0]+0.1, r'$s_1$', fontsize=12, ha='center')
plt.text(x_poles[1], y_poles[1]-0.15, r'$s_2$', fontsize=12, ha='center')
plt.axhline(0, color='black', linewidth=0.5)
plt.axvline(0, color='black', linewidth=0.5)
plt.title(f'N=2 巴特沃斯滤波器极点分布\n推导结果: Denom = ${sp.latex(denom)}$')
plt.xlabel('实部 (Re)')
plt.ylabel('虚部 (Im)')
plt.grid(True)
plt.legend()
plt.axis('equal')

# --- 4. 自动保存与显示 ---
filename = "N2_巴特沃斯推导验证.png"
vault_path = "/Users/heyuhang/Documents/Obsidian Vault"
full_path = os.path.join(vault_path, filename)

try:
    if os.path.exists(full_path):
        os.remove(full_path)
    plt.savefig(full_path, dpi=300, bbox_inches='tight')
    plt.close()
    
    # 输出结果供笔记查看
    print("符号推导结果 (分母):")
    print(f"{denom}")
    print(f"\n![[{filename}]]") 
except Exception as e:
    print(f"Error: {e}")
```